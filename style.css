body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-color: #302e2b;
    margin: 0;
    color: white;
}

.game-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
}

.status-bar {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 10px;
}

.board {
    display: grid;
    grid-template-columns: repeat(8, 80px);
    grid-template-rows: repeat(8, 80px);
    border: none;
    user-select: none;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
}

.square {
    width: 80px;
    height: 80px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    cursor: pointer;
}

/* Lichess Brown Theme */
.square.light {
    background-color: #f0d9b5;
}

.square.dark {
    background-color: #b58863;
}

/* Highlight for selected piece - Lichess Green */
.square.selected {
    background-color: rgba(20, 85, 30, 0.5) !important;
}

/* Highlight for last move - Distinct Lighter Colors */
.square.last-move.light {
    background-color: #f7f785 !important;
}

.square.last-move.dark {
    background-color: #bacb44 !important;
}

/* Highlight for King in check - Reddish */
.square.in-check {
    background-color: rgba(255, 0, 0, 0.5) !important;
}

.hint {
    width: 24px;
    height: 24px;
    background-color: rgba(0, 0, 0, 0.14);
    border-radius: 50%;
    pointer-events: none;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 15;
}

/* Capture Hint - Ring Style */
.hint.capture-hint {
    background-color: transparent;
    border: 6px solid rgba(0, 0, 0, 0.14);
    width: 80px;
    height: 80px;
    border-radius: 50%;
    box-sizing: border-box;
    /* Ensure border is inside the 80x80 area */
}

.square:hover {
    /* Lichess doesn't really have a hover effect on squares, but it's nice */
    /* filter: brightness(0.95);  disable for authentic feel? or keep it subtly */
}

.piece {
    width: 80px;
    height: 80px;
    background-size: 100%;
    /* Make pieces full size like Lichess */
    background-repeat: no-repeat;
    background-position: center;
    cursor: grab;
    z-index: 10;
}

.piece:active {
    cursor: grabbing;
}

.controls {
    display: flex;
    gap: 15px;
}

button {
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    background-color: #3692e7;
    border: none;
    border-radius: 4px;
    color: white;
    font-weight: bold;
    transition: background 0.2s;
    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    border-bottom: 2px solid #1b66b1;
    /* Added for consistency with menu buttons */
}

button:hover {
    background-color: #4da6f9;
}

/* Coordinates labels - Lichess Style */
.coordinate {
    position: absolute;
    font-size: 12px;
    font-weight: bold;
    pointer-events: none;
    font-family: 'Noto Sans', sans-serif;
    user-select: none;
}

.rank {
    top: 2px;
    left: 2px;
    line-height: 1;
}

.file {
    bottom: 2px;
    right: 2px;
    line-height: 1;
}

.light .coordinate {
    color: #b58863;
}

.dark .coordinate {
    color: #f0d9b5;
}

/* Menu Styles & Overlays */
.menu-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(22, 21, 18, 0.95);
    /* Darker background */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 100;
}

.menu-content {
    background-color: #302e2b;
    padding: 40px;
    border-radius: 5px;
    text-align: center;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
    min-width: 320px;
    border: 1px solid #404040;
}

.menu-content h1 {
    margin-top: 0;
    font-size: 32px;
    color: #dedede;
    margin-bottom: 30px;
}

.menu-btn {
    display: block;
    width: 100%;
    margin: 15px 0;
    padding: 15px;
    font-size: 18px;
    background-color: #3692e7;
    color: #fff;
    border-radius: 3px;
    border-bottom: 2px solid #1b66b1;
}

.menu-btn:hover {
    background-color: #4da6f9;
}

.secondary-btn {
    background-color: #454441;
    margin-top: 10px;
}

.secondary-btn:hover {
    background-color: #61605c;
}

.btn-group {
    display: flex;
    gap: 15px;
    margin-bottom: 20px;
}

.btn-group .menu-btn {
    flex: 1;
    margin: 0;
    /* reset margin for row layout */
}

/* Pieces - Standard SVG pieces */
.piece.wP,
.mini-piece.wP {
    background-image: url('https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg');
}

.piece.wN,
.mini-piece.wN {
    background-image: url('https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg');
}

.piece.wB,
.mini-piece.wB {
    background-image: url('https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg');
}

.piece.wR,
.mini-piece.wR {
    background-image: url('https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg');
}

.piece.wQ,
.mini-piece.wQ {
    background-image: url('https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg');
}

.piece.wK,
.mini-piece.wK {
    background-image: url('https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg');
}

.piece.bP,
.mini-piece.bP {
    background-image: url('https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg');
}

.piece.bN,
.mini-piece.bN {
    background-image: url('https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg');
}

.piece.bB,
.mini-piece.bB {
    background-image: url('https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg');
}

.piece.bR,
.mini-piece.bR {
    background-image: url('https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg');
}

.piece.bQ,
.mini-piece.bQ {
    background-image: url('https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg');
}

.piece.bK,
.mini-piece.bK {
    background-image: url('https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg');
}

/* New Room UI Styles */
.room-input {
    width: 80%;
    padding: 15px;
    font-size: 28px;
    text-align: center;
    border: 2px solid #555;
    border-radius: 8px;
    margin-bottom: 25px;
    background-color: #3a3835;
    color: #fff;
    font-weight: bold;
    letter-spacing: 8px;
    outline: none;
    transition: all 0.3s ease;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.5);
}

.room-input:focus {
    border-color: #81b64c;
    box-shadow: 0 0 10px rgba(129, 182, 76, 0.4), inset 0 2px 4px rgba(0, 0, 0, 0.5);
    background-color: #403e3b;
}

.room-input::placeholder {
    color: #888;
    font-size: 18px;
    letter-spacing: 2px;
    font-weight: normal;
}

.code-display {
    font-size: 56px;
    font-family: 'Verdana', sans-serif;
    font-weight: bold;
    color: #a3d160;
    letter-spacing: 12px;
    margin: 30px 0;
    padding: 20px 40px;
    background: #262421;
    border-radius: 12px;
    border: 2px solid #3a3835;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4), inset 0 0 10px rgba(0, 0, 0, 0.5);
    text-shadow: 0 0 15px rgba(163, 209, 96, 0.2);
    user-select: text;
}

.pulse-text {
    font-size: 18px;
    color: #aaa;
    margin-bottom: 20px;
    animation: pulse 2s infinite ease-in-out;
}

@keyframes pulse {
    0% {
        opacity: 0.5;
    }

    50% {
        opacity: 1;
    }

    100% {
        opacity: 0.5;
    }
}

/* Player Info & Captured Pieces */
.player-info {
    width: 640px;
    /* Match board width */
    display: flex;
    align-items: center;
    padding: 6px 10px;
    background-color: rgba(255, 255, 255, 0.1);
    /* Lighter contrast */
    border-radius: 4px;
    margin: 5px 0;
    box-sizing: border-box;
    min-height: 44px;
}

.player-label {
    font-weight: bold;
    color: #aaa;
    margin-right: 10px;
    font-size: 14px;
    min-width: 60px;
}

.captured-pieces {
    display: flex;
    align-items: center;
    flex-grow: 1;
    height: 34px;
    gap: 0;
    overflow: hidden;
}

.captured-group {
    display: inline-flex;
    margin-right: 1px;
    /* Reduced gap between types */
}

.mini-piece {
    width: 22px;
    height: 22px;
    background-size: contain;
    background-repeat: no-repeat;
    margin-right: -14px;
    /* Tighter overlap */
    filter: drop-shadow(0 0 2px rgba(255, 255, 255, 0.6));
    /* White glow for visibility */
}

.mini-piece:last-child {
    margin-right: 0;
}

.score {
    font-weight: bold;
    color: #ccc;
    font-size: 14px;
    margin-left: 10px;
    background: #444;
    padding: 2px 6px;
    border-radius: 4px;
}

/* Mobile Responsiveness */
@media (max-width: 700px) {
    .player-info {
        width: 92vw;
        /* Match board width */
    }

    .board {
        /* Use viewport width to fit screen */
        grid-template-columns: repeat(8, 11.5vw);
        grid-template-rows: repeat(8, 11.5vw);
    }

    .square {
        width: 11.5vw;
        height: 11.5vw;
    }

    .piece {
        width: 11.5vw;
        height: 11.5vw;
    }

    .hint.capture-hint {
        width: 11.5vw;
        height: 11.5vw;
        border-width: 4px;
        /* Thinner border for small screens */
    }

    .controls {
        flex-wrap: wrap;
        justify-content: center;
        width: 95%;
        gap: 10px;
    }

    button {
        padding: 12px 10px;
        flex: 1 1 40%;
        font-size: 14px;
    }

    /* Menu Adjustments */
    .menu-content {
        width: 90%;
        min-width: unset;
        padding: 20px;
    }

    .room-input {
        width: 100%;
        font-size: 20px;
        letter-spacing: 4px;
        box-sizing: border-box;
    }

    .code-display {
        font-size: 32px;
        letter-spacing: 6px;
        padding: 15px;
    }

    .menu-content h1 {
        font-size: 28px;
    }
}

/* Engine Slider Settings */
.engine-settings {
    width: 100%;
    margin-bottom: 2rem;
    padding: 0 10px;
    box-sizing: border-box;
    text-align: left;
}

.elo-header {
    display: flex;
    align-items: baseline;
    gap: 10px;
    margin-bottom: 15px;
    font-family: 'Segoe UI', sans-serif;
}

.elo-label {
    color: white;
    font-size: 1.5rem;
    font-weight: 800;
}

.elo-value {
    color: #aeaeae;
    font-size: 1.2rem;
    font-weight: 400;
}

/* Slider Container/Input */
.elo-slider {
    -webkit-appearance: none;
    width: 100%;
    margin: 10px 0;
    background: transparent;
    /* Background managed by JS on this element, but we need to ensure the track logic works */
}

/* Explicit Track Styling - Critical for alignment */
.elo-slider::-webkit-slider-runnable-track {
    width: 100%;
    height: 8px;
    cursor: pointer;
    background: transparent;
    /* Let the input's gradient show through if possible, or we need to apply gradient to track? */
    /* JS applies gradient to input. For runnable-track to show it, track must be transparent? 
       Actually, if input has background, it covers the whole area? 
       No, input height is usually track height if appearance is none.
       Let's keep input background. */
    border-radius: 4px;
    border: none;
}

/* If we style runnable-track, we might mask the input background unless track is transparent */

/* Thumb */
.elo-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    height: 24px;
    width: 24px;
    border-radius: 50%;
    background: #ffffff;
    cursor: pointer;
    margin-top: -8px;
    /* (Track 8px - Thumb 24px) / 2 = -8px */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    transition: transform 0.1s;
    border: none;
}

.elo-slider::-webkit-slider-thumb:hover {
    transform: scale(1.1);
}

/* Firefox */
.elo-slider::-moz-range-track {
    width: 100%;
    height: 8px;
    cursor: pointer;
    background: #3a3a3a;
    border-radius: 4px;
    border: none;
}

.elo-slider::-moz-range-thumb {
    height: 24px;
    width: 24px;
    border: none;
    border-radius: 50%;
    background: #ffffff;
    cursor: pointer;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
}

/* Game Area Layout */
.game-main-area {
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    justify-content: center;
    gap: 20px;
}

.board-area {
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* Evaluation Bar */
.eval-bar-container {
    width: 30px;
    height: 640px;
    /* Match board height (8x80) */
    background-color: #302e2b;
    border-radius: 4px;
    overflow: hidden;
    position: relative;
    display: flex;
    flex-direction: column;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    border: 1px solid #555;
    margin-top: 50px;
    /* Offset for status bar/player info approx */
}

.eval-bar-wrapper {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    width: 100%;
}

.eval-fill-black {
    background-color: #403d39;
    width: 100%;
    height: 50%;
    transition: height 0.5s ease;
}

.eval-fill-white {
    background-color: #fff;
    width: 100%;
    height: 50%;
    transition: height 0.5s ease;
}

.eval-score {
    position: absolute;
    top: 50%;
    left: 0;
    width: 100%;
    text-align: center;
    font-size: 12px;
    font-weight: bold;
    color: #888;
    background: rgba(255, 255, 255, 0.8);
    padding: 2px 0;
    transform: translateY(-50%);
    pointer-events: none;
}

/* Review Panel */
.review-panel {
    width: 300px;
    height: 700px;
    background-color: #262421;
    border-radius: 4px;
    display: flex;
    flex-direction: column;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    margin-top: 10px;
    overflow: hidden;
}

.review-header {
    background-color: #302e2b;
    padding: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #404040;
}

.review-header h3 {
    margin: 0;
    color: #eee;
    font-size: 18px;
}

.close-btn {
    background: none;
    border: none;
    color: #999;
    font-size: 24px;
    cursor: pointer;
    box-shadow: none;
    padding: 0;
}

.close-btn:hover {
    color: #fff;
    background: none;
}

.accuracy-container {
    display: flex;
    border-bottom: 1px solid #404040;
}

.accuracy-box {
    flex: 1;
    padding: 15px;
    text-align: center;
    display: flex;
    flex-direction: column;
}

.white-acc {
    border-right: 1px solid #404040;
}

.acc-label {
    font-size: 12px;
    color: #aaa;
    margin-bottom: 5px;
}

.acc-value {
    font-size: 24px;
    font-weight: bold;
}

.white-acc .acc-value {
    color: #fff;
}

.black-acc .acc-value {
    color: #ccc;
}

.move-list {
    flex-grow: 1;
    overflow-y: auto;
    padding: 0;
}

.move-item {
    display: flex;
    padding: 8px 10px;
    border-bottom: 1px solid #363431;
    cursor: pointer;
    align-items: center;
    font-size: 14px;
}

.move-item:hover {
    background-color: #363431;
}

.move-item.active {
    background-color: #4da6f9;
    color: #fff;
}

.move-number {
    width: 30px;
    color: #666;
}

.move-san {
    width: 60px;
    font-weight: bold;
}

.move-eval {
    width: 50px;
    font-size: 12px;
    text-align: right;
    margin-right: 10px;
}

.move-classification {
    flex-grow: 1;
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 12px;
    font-style: italic;
    color: #aaa;
}

/* Move Classifications Colors */
.class-brilliant {
    color: #1baca6;
}

.class-best {
    color: #96bc4b;
}

.class-good {
    color: #96bc4b;
}

.class-inaccuracy {
    color: #e5bf00;
}

.class-mistake {
    color: #e6912c;
}

.class-blunder {
    color: #cc3333;
}

.icon {
    width: 16px;
    height: 16px;
    display: inline-block;
    background-size: contain;
    background-repeat: no-repeat;
}

/* Review Button override */
.review-btn {
    background-color: #81b64c;
    /* Green */
    border-bottom: 2px solid #5a8532;
}

.review-btn:hover {
    background-color: #9cd562;
}

/* Mobile Adjustments */
@media (max-width: 900px) {
    .game-main-area {
        flex-direction: column;
        align-items: center;
    }

    .eval-bar-container {
        width: 100%;
        /* Horizontal bar on mobile */
        height: 30px;
        flex-direction: row;
        margin-top: 10px;
        order: -1;
        /* Top */
    }

    .eval-fill-black,
    .eval-fill-white {
        height: 100%;
        transition: width 0.5s ease;
    }

    .eval-fill-black {
        width: 50%;
        /* Initial split */
    }

    .eval-fill-white {
        width: 50%;
    }

    .eval-score {
        left: 50%;
        top: 0;
        width: auto;
        padding: 0 5px;
        transform: translateX(-50%);
        height: 100%;
        display: flex;
        align-items: center;
    }

    .review-panel {
        width: 95%;
        height: 300px;
    }
}

/* Tabs */
.review-tabs {
    display: flex;
    background-color: #21201d;
    border-bottom: 1px solid #404040;
}

.tab-btn {
    flex: 1;
    background: none;
    border: none;
    color: #aaa;
    padding: 12px;
    font-size: 14px;
    cursor: pointer;
    border-bottom: 3px solid transparent;
    transition: all 0.2s;
    box-shadow: none;
}

.tab-btn.active {
    color: #fff;
    border-bottom-color: #81b64c;
    background-color: #2b2926;
}

.review-view {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* Summary View */
.summary-accuracy {
    display: flex;
    background-color: #21201d;
    padding: 10px;
    gap: 10px;
}

.acc-card {
    flex: 1;
    background-color: #eeeeeb;
    /* White card usually */
    border-radius: 4px;
    padding: 10px;
    text-align: center;
    color: #333;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.acc-card.black-card {
    background-color: #403d39;
    color: #fff;
}

.acc-title {
    font-size: 11px;
    text-transform: uppercase;
    font-weight: bold;
    opacity: 0.7;
}

.acc-big {
    font-size: 28px;
    font-weight: 800;
}

.stats-table {
    padding: 10px;
    overflow-y: auto;
    background-color: #262421;
}

.stat-row {
    display: flex;
    align-items: center;
    margin-bottom: 8px;
    height: 32px;
}

.stat-label {
    flex-grow: 1;
    font-weight: bold;
    color: #ccc;
    font-size: 14px;
    padding-left: 10px;
}

.stat-icon {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    margin-right: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    font-weight: 900;
    color: #fff;
}

.stat-count {
    width: 30px;
    text-align: center;
    font-weight: bold;
    color: #888;
    /* Default for 0 */
}

.stat-count.has-val {
    color: #fff;
}

/* Specific Icons Colors */
.icon-brilliant {
    background-color: #1baca6;
}

.icon-great {
    background-color: #5c8bb0;
}

.icon-best {
    background-color: #96bc4b;
}

.icon-excellent {
    background-color: #96bc4b;
}

.icon-good {
    background-color: #7fa650;
}

.icon-book {
    background-color: #a88865;
}

.icon-inaccuracy {
    background-color: #f0c15c;
}

.icon-mistake {
    background-color: #e6912c;
}

.icon-miss {
    background-color: #ee5f5b;
}

.icon-blunder {
    background-color: #ca3431;
}

.count-w {
    color: #fff;
}

.count-b {
    color: #ccc;
}

/* Coach UI */
.coach-container {
    position: absolute;
    top: -80px;
    /* Above board */
    left: 0;
    right: 0;
    display: flex;
    align-items: flex-end;
    z-index: 100;
    pointer-events: none;
    /* Let clicks pass through if needed */
    padding: 10px;
}

/* Adjust for mobile */
@media (max-width: 600px) {
    .coach-container {
        top: -100px;
    }
}

.coach-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    overflow: hidden;
    border: 3px solid #81b64c;
    background: #fff;
    margin-right: 15px;
    flex-shrink: 0;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
}

.coach-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.speech-bubble {
    background: #fff;
    border-radius: 8px;
    padding: 10px 15px;
    position: relative;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    max-width: 300px;
    color: #333;
    font-size: 14px;
    line-height: 1.4;
}

.speech-bubble::before {
    content: '';
    position: absolute;
    left: -10px;
    bottom: 20px;
    border-width: 10px 10px 10px 0;
    border-style: solid;
    border-color: transparent #fff transparent transparent;
}

.bubble-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 5px;
    border-bottom: 1px solid #eee;
    padding-bottom: 5px;
}

.coach-title {
    font-weight: bold;
    color: #555;
    font-size: 12px;
}

.coach-eval-badge {
    background: #eee;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: bold;
    color: #333;
}

/* Suggestion Arrows */
.arrow-svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 50;
    /* Above pieces? No, pieces are z-index? */
    /* Pieces are usually standard flow. Board is container. 
       We need SVG on top of board but below touch interactions if possible? 
       Actually pointer-events: none handles that. */
}

.arrow-head {
    fill-opacity: 0.6;
}

/* Board Visuals (Icons) */
.square-icon {
    position: absolute;
    top: -10px;
    right: -10px;
    width: 24px;
    height: 24px;
    background-size: contain;
    background-repeat: no-repeat;
    z-index: 20;
    /* Above pieces */
    filter: drop-shadow(0px 2px 2px rgba(0, 0, 0, 0.3));
}

.icon-star {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%2396bc4b"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>');
}

.icon-mistake {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23e6912c"><circle cx="12" cy="12" r="10"/><path d="M12 17h.01M12 14V7" stroke="white" stroke-width="3" stroke-linecap="round"/></svg>');
}

/* Simplified ? */
.icon-blunder {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ca3431"><circle cx="12" cy="12" r="10"/><path d="M11 14h2M11 10h2M11 6h2" stroke="white" stroke-width="2"/></svg>');
}

/* Placeholder */
.icon-best {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%2396bc4b"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>');
}

/* Using generic class for bg image injection via JS might be easier for all types */

.move-classification-icon {
    position: absolute;
    top: -8px;
    right: -8px;
    width: 28px;
    height: 28px;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
    color: white;
    font-weight: bold;
    font-size: 16px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    z-index: 25;
}

/* Colors matching stats */
.bg-brilliant {
    background-color: #1baca6;
}

.bg-great {
    background-color: #5c8bb0;
}

.bg-best {
    background-color: #96bc4b;
}

.bg-excellent {
    background-color: #96bc4b;
}

.bg-good {
    background-color: #7fa650;
}

.bg-book {
    background-color: #a88865;
}

.bg-inaccuracy {
    background-color: #f0c15c;
}

.bg-mistake {
    background-color: #e6912c;
}

.bg-miss {
    background-color: #ee5f5b;
}

.bg-blunder {
    background-color: #ca3431;
}



/* Mobile Layout Refinements */
@media (max-width: 768px) {
    body {
        padding-bottom: 100px;
        /* Space for fixed bottom controls */
        overflow-x: hidden;
        /* Prevent horizontal scroll */
        padding-top: 20px;
    }

    .game-main-area {
        flex-direction: column;
        align-items: center;
        width: 100%;
        margin-top: 0;
        padding-top: 10px;
    }

    .player-info {
        width: 95%;
        max-width: 400px;
        margin: 5px auto;
    }

    .game-area {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .board-container {
        width: 95vw;
        height: 95vw;
        max-width: 400px;
        max-height: 400px;
        margin: 10px auto;
    }

    .board {
        width: 100%;
        height: 100%;
    }

    /* Coach Vertical Stack */
    .coach-container {
        position: relative;
        top: 0;
        left: 0;
        margin-bottom: 5px;
        width: 95%;
        max-width: 400px;
        justify-content: center;
        padding: 0;
    }

    .coach-avatar {
        width: 40px;
        height: 40px;
        margin-right: 10px;
    }

    .speech-bubble {
        font-size: 13px;
        padding: 8px 12px;
        width: auto;
        flex-grow: 1;
    }

    /* Fixed Navigation for Review */
    .review-navigation {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: #262421;
        padding: 15px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 1000;
        box-shadow: 0 -4px 15px rgba(0, 0, 0, 0.4);
        border-top: 1px solid #333;
    }

    .review-main-btn {
        padding: 15px 0;
        font-size: 18px;
        width: 60%;
        margin: 0 10px;
    }

    /* Hide sidebar/evaluation bar initially on mobile or allow toggle? */
    /* For now, maybe just hide wide eval bar or make it thin top bar? */
    .eval-bar-container {
        display: none !important;
        /* Hide vertical eval bar on mobile to save space */
    }

    /* Engine settings on home */
    .menu-content {
        width: 90%;
        padding: 20px;
    }
}